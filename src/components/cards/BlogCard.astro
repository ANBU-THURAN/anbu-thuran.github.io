---
interface Props {
  title: string;
  description: string;
  pubDate: Date;
  tags: string[];
  slug: string;
  readingTime?: string;
}

const { title, description, pubDate, tags, slug, readingTime } = Astro.props;

const formattedDate = new Intl.DateTimeFormat('en-US', {
  year: 'numeric',
  month: 'short',
  day: 'numeric',
}).format(pubDate);
---

<article class="card h-full flex flex-col">
  <a href={`/blog/${slug}`} class="block group flex-grow flex flex-col">
    <h3 class="font-mono text-lg font-bold text-primary mb-2 leading-snug group-hover:opacity-80 transition-opacity">
      {title}
    </h3>

    <p class="font-sans text-base text-secondary mb-2 leading-normal flex-grow line-clamp-3">
      {description}
    </p>

    <div class="flex flex-wrap items-center gap-2 mb-2 mt-auto">
      <time
        datetime={pubDate.toISOString()}
        class="font-mono text-xs text-tertiary"
      >
        {formattedDate}
      </time>
      {
        readingTime && (
          <>
            <span class="text-tertiary">â€¢</span>
            <span class="font-mono text-xs text-tertiary">
              {readingTime}
            </span>
          </>
        )
      }
    </div>

    {
      tags.length > 0 && (
        <div class="flex flex-wrap gap-1.5">
          {tags.map((tag) => (
            <span
              class="tag"
            >
              #{tag}
            </span>
          ))}
        </div>
      )
    }
  </a>
</article>
